<section class="bg-white py-8 antialiased h-screen md:py-16">
    <div class="mx-auto max-w-screen-xl px-4 2xl:px-0">
        <h2 class="text-xl font-semibold text-gray-900 sm:text-2xl">Shopping Cart</h2>

        <div *ngIf="cartItems().length > 0; else emptyCart">
            <div class="lg:flex lg:items-start xl:gap-8">
                <div class="mx-auto w-full lg:max-w-2xl xl:max-w-4xl space-y-6">
                    <div *ngFor="let item of cartItems()">
                        <div class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm md:p-6">
                            <div class="md:flex md:items-center md:justify-between md:gap-6">
                                <img class="h-20 w-20" [src]="item.product.image" [alt]="item.product.image" />
                                <div class="flex items-center gap-4">
                                    <button (click)="decrementQuantity(item.id, item.quantity)"
                                        class="bg-gray-100 hover:bg-gray-200 rounded-md border p-1">
                                        <svg class="h-2.5 w-2.5" xmlns="http://www.w3.org/2000/svg" fill="none"
                                            viewBox="0 0 18 2">
                                            <path stroke="currentColor" stroke-linecap="round"  troke-width="2"
                                                d="M1 1h16" />
                                        </svg>
                                    </button>

                                    <div>{{item.quantity}}</div>

                                    <button (click)="incrementQuantity(item.id, item.quantity)"
                                        class="bg-gray-100 hover:bg-gray-200 rounded-md border p-1">
                                        <svg class="h-2.5 w-2.5" xmlns="http://www.w3.org/2000/svg" fill="none"
                                            viewBox="0 0 18 18">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-width="2"
                                                d="M9 1v16M1 9h16" />
                                        </svg>
                                    </button>
                                </div>
                                <p class="text-base font-bold text-gray-900">{{ item.total }}
                                    JOD</p>
                                <button (click)="removeFromCart(item.id)" class="text-red-600 hover:underline">
                                    <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none"
                                        viewBox="0 0 24 24">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-width="2"
                                            d="M6 18 17.94 6M18 18 6.06 6" />
                                    </svg>
                                    Remove
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-6 lg:mt-0 space-y-6 gap-4">
                    <div class="border rounded-lg  bg-white shadow-sm gap-4 p-7">
                        <p class="text-xl font-semibold">ملخص الطلب</p>
                        <dl class="flex justify-between">
                            <dt>Total</dt>
                            <dd>{{ totalAmount() }} JOD</dd>
                        </dl>
                        <dl class="flex justify-between">
                            <dt>Total</dt>
                            <dd>{{ cartCount() }} قطعة</dd>
                        </dl>
                        <div class="mt-4"><a [routerLink]="['/checkout']"
                                class="bg-green-700 text-white rounded-lg px-5 py-2.5">Proceed
                                to Checkout</a></div>
                    </div>

                </div>
            </div>
        </div>

        <ng-template #emptyCart>
            <p>Your cart is empty.</p>
        </ng-template>
    </div>
</section>